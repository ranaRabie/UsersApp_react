(this.webpackJsonptrufla_react=this.webpackJsonptrufla_react||[]).push([[0],{22:function(e,t,s){},23:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),i=s(13),a=s.n(i),u=(s(22),s.p,s(23),s(14)),c=s(15),l=s(17),o=s(16),h=s(4),f=s.n(h),d=s(0),j=[],v=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={users:[],viewInterestsList:[],noUsers:!1},n}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"getUsers",value:function(){var e=this;f.a.get("/users.json").then((function(t){e.setState({users:t.data}),e.calculateFollowersNumber(),e.getInterests(),e.sortUsers()})).catch((function(e){console.log(e)}))}},{key:"getOccurrence",value:function(e,t){return e.filter((function(e){return e===t})).length}},{key:"calculateFollowersNumber",value:function(){for(var e=this.state.users.map((function(e){return e.following})).flat(),t=0;t<this.state.users.length;t++){var s=this.getOccurrence(e,this.state.users[t].id);this.state.users[t].followersCounetr=s,this.setState({users:this.state.users})}}},{key:"sortUsers",value:function(){this.state.users.sort((function(e,t){return t.followersCounetr-e.followersCounetr})),this.setState({users:this.state.users})}},{key:"getInterests",value:function(){var e=this;f.a.get("/interests.json").then((function(t){for(var s=t.data,n=e.state.users,r=0;r<n.length;r++)if(n[r].interests)for(var i=0;i<s.length;i++)for(var a=0;a<n[r].interests.length;a++)n[r].interests[a]===s[i].id&&(n[r].interests[a]=s[i].name,e.setState({users:e.state.users}))})).catch((function(e){console.log(e)}))}},{key:"viewInterests",value:function(e){if(j.includes(e)){var t=j.indexOf(e);j.splice(t,1),this.setState({viewInterestsList:j})}else j.push(e),this.setState({viewInterestsList:j})}},{key:"deleteInterests",value:function(e,t){for(var s=0;s<this.state.users.length;s++)if(this.state.users[s].id===e){delete this.state.users[s].interests,this.setState({users:this.state.users});var n=j.indexOf(t);j.splice(n,1),this.setState({viewInterestsList:j})}}},{key:"deleteUser",value:function(e){for(var t=0;t<this.state.users.length;t++)if(this.state.users[t].id===e){var s=this.state.users.indexOf(this.state.users[t]);this.state.users.splice(s,1),this.setState({users:this.state.users})}}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Users"}),Object(d.jsxs)("ul",{children:[this.state.users.length>0?"":Object(d.jsx)("li",{className:"user-item no-user",children:"no users found"}),this.state.users.map((function(t,s){return Object(d.jsxs)("li",{className:"user-item",children:[Object(d.jsx)("h2",{children:t.name}),Object(d.jsx)("a",{onClick:function(){return e.deleteUser(t.id)},children:"delete"}),Object(d.jsxs)("p",{children:["Followers Number: ",t.followersCounetr]}),t.interests?Object(d.jsxs)("div",{className:"interests-wrapper",children:[Object(d.jsx)("a",{onClick:function(){return e.viewInterests(s)},children:"view interests"}),Object(d.jsxs)("div",{className:"interests-list "+(e.state.viewInterestsList.includes(s)?"show":"hide"),children:[Object(d.jsx)("span",{className:"interest-item",children:t.interests}),Object(d.jsx)("a",{onClick:function(){return e.deleteInterests(t.id,s)},children:"delete"})]})]}):""]},s)}))]})]})}}]),s}(n.Component);var b=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(v,{})})},O=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,44)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root")),O()}},[[43,1,2]]]);
//# sourceMappingURL=main.a5065138.chunk.js.map